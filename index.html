<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okinawa - Japanese Grocery Store</title>
    
    <!-- Google Fonts - Shojumaru -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shojumaru&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Shojumaru', cursive;
            background-color: #ffffff;
            color: #000000;
            line-height: 1.6;
        }

        /* Apply Shojumaru font to all elements */
        *, *::before, *::after {
            font-family: 'Shojumaru', cursive !important;
        }

        /* Font adjustments for better readability */
        h1, h2, h3, h4, h5, h6 {
            letter-spacing: 0.5px;
        }

        p, span, div, a, button, input, textarea, select {
            letter-spacing: 0.3px;
        }

        .nav-links a, .btn, .cta-button {
            letter-spacing: 0.5px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, rgba(166, 31, 35, 0.6), rgba(207, 32, 41, 0.6));
            padding: 0.8rem 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(20px);
        }

        nav {
            display: flex;
            justify-content: center;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            height: 80px;
        }

        .logo {
            height: 70px;
            width: auto;
            transition: transform 0.3s ease;
            z-index: 1001;
            object-fit: contain;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo:hover {
            transform: scale(1.05);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.6rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            z-index: 1001;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .mobile-menu-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .mobile-menu-toggle:active {
            transform: scale(0.95);
        }

        #menu-icon {
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: bold;
        }

        /* Hide all navigation elements on desktop (same as mobile) */
        .nav-links,
        .auth-buttons,
        .user-info,
        .guest-cart,
        .mobile-menu-toggle {
            display: none !important;
        }

        /* Hero Section */
        .hero {
            background: url('https://images.unsplash.com/photo-1553621042-f6e147245754?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2025&q=80');
            background-size: cover;
            background-position: center;
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-top: 80px;
            position: relative;
            overflow: hidden;
        }

        /* Animated Japanese product showcase */
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-size: cover;
            background-position: center;
            opacity: 0.4;
            z-index: -1;
            animation: heroSlideshow 12s infinite;
        }

        @keyframes heroSlideshow {
            0%, 25% { 
                background-image: url('https://images.unsplash.com/photo-1553621042-f6e147245754?ixlib=rb-4.0.3&auto=format&fit=crop&w=2025&q=80');
            }
            26%, 50% { 
                background-image: url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            }
            51%, 75% { 
                background-image: url('https://images.unsplash.com/photo-1563612116625-3012372fccce?ixlib=rb-4.0.3&auto=format&fit=crop&w=2064&q=80');
            }
            76%, 100% { 
                background-image: url('https://images.unsplash.com/photo-1606491956689-2ea866880c84?ixlib=rb-4.0.3&auto=format&fit=crop&w=2064&q=80');
            }
        }



        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.6);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 6px rgba(0,0,0,0.8), 0 0 15px rgba(0,0,0,0.6);
        }

        .cta-button {
            background: linear-gradient(135deg, #cf2029, #A61f23);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(207, 32, 41, 0.3);
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(207, 32, 41, 0.4);
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:active {
            transform: translateY(-1px);
        }

        /* New Arrivals & Best Selling Sections */
        .new-arrivals, .best-selling {
            padding: 4rem 2rem;
            background-color: #ffffff;
        }

        .new-arrivals {
            background-color: #f8f9fa;
        }

        .best-selling {
            background-color: #ffffff;
        }



        /* Categories Section */
        .categories {
            padding: 4rem 2rem;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }



        /* Modern Category Grid - Mobile First Design */
        /* Enhanced Category Hierarchy */
        .category-hierarchy {
            display: flex;
            flex-direction: column;
            gap: 50px;
            margin-bottom: 40px;
            padding: 2rem 0;
        }

        .category-row {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
            border: 1px solid #e8ecef;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-row::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #A61f23, #cf2029, #A61f23);
            border-radius: 20px 20px 0 0;
        }

        .category-row:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 60px rgba(166, 31, 35, 0.1);
        }

        .main-category-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .main-category-title {
            font-size: 2.2rem;
            font-weight: 700;
            color: #A61f23;
            margin-bottom: 0.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .main-category-subtitle {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 1.5rem;
            font-weight: 400;
        }

        .main-category-header .category-item {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(166, 31, 35, 0.15);
            border: 3px solid #A61f23;
        }

        .main-category-header .category-item:hover {
            transform: scale(1.08);
            box-shadow: 0 20px 50px rgba(166, 31, 35, 0.25);
        }

        .subcategory-section {
            margin-top: 2rem;
        }

        .subcategory-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .subcategory-header h3 {
            font-size: 1.3rem;
            color: #444;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .subcategory-header p {
            color: #666;
            font-size: 0.95rem;
        }

        .subcategory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* Enhanced Category Cards */
        .category-item {
            border-radius: 15px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .category-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .category-item:hover::before {
            left: 100%;
        }

        .subcategory .category-card {
            padding: 1.5rem;
            border-radius: 15px;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 2px solid #e8ecef;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .subcategory:hover .category-card {
            border-color: #A61f23;
            box-shadow: 0 10px 30px rgba(166, 31, 35, 0.15);
            background: linear-gradient(135deg, #fff 0%, #fff 100%);
        }

        .subcategory .category-icon {
            font-size: 2.5rem;
            min-width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            transition: all 0.3s ease;
        }

        .subcategory:hover .category-icon {
            background: linear-gradient(135deg, #A61f23 0%, #cf2029 100%);
            color: white;
            transform: scale(1.1);
        }

        .subcategory .category-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
            transition: color 0.3s ease;
        }

        .subcategory:hover .category-name {
            color: #A61f23;
        }

        .subcategory .category-description {
            font-size: 0.9rem;
            color: #666;
            line-height: 1.4;
        }

        .category-item.subcategory {
            transform: scale(0.9);
            opacity: 0.95;
        }

        .category-item.subcategory:hover {
            transform: scale(0.95);
            opacity: 1;
        }

        /* Tablet and medium screen adjustments */
        @media (max-width: 1024px) {
            .category-row {
                padding: 2rem;
            }

            .main-category-title {
                font-size: 1.8rem;
            }

            .main-category-subtitle {
                font-size: 1rem;
            }

            .subcategory-grid {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 15px;
            }

            .subcategory .category-card {
                padding: 1.2rem;
            }

            .subcategory .category-icon {
                font-size: 2.2rem;
                min-width: 50px;
                height: 50px;
            }
        }

        @media (max-width: 768px) {
            .category-row {
                padding: 1.5rem;
                gap: 30px;
            }

            .main-category-title {
                font-size: 1.6rem;
            }

            .main-category-subtitle {
                font-size: 0.9rem;
            }

            .subcategory-header h3 {
                font-size: 1.1rem;
            }

            .subcategory-header p {
                font-size: 0.85rem;
            }
        }

        /* Category Grid (fallback) */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            padding: 0 1rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Category Horizontal Scroll Container (for mobile) */
        .category-scroll-container {
            position: relative;
            margin-top: 2rem;
            display: none; /* Hidden by default, shown on mobile */
        }

        .category-horizontal-scroll {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding: 1rem 0;
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: #A61f23 #f8f9fa;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .category-horizontal-scroll::-webkit-scrollbar {
            height: 6px;
        }

        .category-horizontal-scroll::-webkit-scrollbar-track {
            background: #f8f9fa;
            border-radius: 10px;
        }

        .category-horizontal-scroll::-webkit-scrollbar-thumb {
            background: #A61f23;
            border-radius: 10px;
        }

        .category-horizontal-scroll::-webkit-scrollbar-thumb:hover {
            background: #cf2029;
        }

        .category-horizontal-item {
            min-width: 250px;
            max-width: 250px;
            height: 140px;
            position: relative;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 16px;
            overflow: hidden;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(166, 31, 35, 0.1);
            flex-shrink: 0;
        }

        .category-horizontal-item:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 30px rgba(166, 31, 35, 0.2);
        }

        .category-horizontal-item.active {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(166, 31, 35, 0.25);
        }

        .category-horizontal-card {
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            background: linear-gradient(135deg, transparent 0%, rgba(166, 31, 35, 0.05) 100%);
            transition: all 0.4s ease;
            text-align: center;
        }

        .category-horizontal-item:hover .category-horizontal-card {
            background: linear-gradient(135deg, rgba(166, 31, 35, 0.9) 0%, rgba(207, 32, 41, 0.95) 100%);
        }

        .category-horizontal-item.active .category-horizontal-card {
            background: linear-gradient(135deg, rgba(166, 31, 35, 0.85) 0%, rgba(207, 32, 41, 0.9) 100%);
        }

        .category-horizontal-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        }

        .category-horizontal-item:hover .category-horizontal-icon {
            transform: scale(1.1) rotate(5deg);
            filter: drop-shadow(0 8px 16px rgba(255, 255, 255, 0.3));
        }

        .category-horizontal-name {
            font-size: 1rem;
            font-weight: 700;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.4s ease;
            margin-bottom: 0.3rem;
        }

        .category-horizontal-item:hover .category-horizontal-name,
        .category-horizontal-item.active .category-horizontal-name {
            color: #ffffff;
        }

        .category-horizontal-desc {
            font-size: 0.7rem;
            color: #666;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
            line-height: 1.2;
        }

        .category-horizontal-item:hover .category-horizontal-desc,
        .category-horizontal-item.active .category-horizontal-desc {
            opacity: 1;
            transform: translateY(0);
            color: rgba(255, 255, 255, 0.9);
        }

        /* Category-specific gradients for horizontal items */
        .category-horizontal-item[data-category="rice"] {
            background: linear-gradient(135deg, #f8f4e6 0%, #f0e6d2 100%);
        }

        .category-horizontal-item[data-category="rice"]:hover,
        .category-horizontal-item[data-category="rice"].active {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
        }

        .category-horizontal-item[data-category="soy-sauce"] {
            background: linear-gradient(135deg, #f4f0e6 0%, #e8dcc0 100%);
        }

        .category-horizontal-item[data-category="soy-sauce"]:hover,
        .category-horizontal-item[data-category="soy-sauce"].active {
            background: linear-gradient(135deg, #3A2F20 0%, #5D4037 100%);
        }

        .category-horizontal-item[data-category="tea"] {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4f1d4 100%);
        }

        .category-horizontal-item[data-category="tea"]:hover,
        .category-horizontal-item[data-category="tea"].active {
            background: linear-gradient(135deg, #2E7D32 0%, #388E3C 100%);
        }

        .category-horizontal-item[data-category="snacks"] {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
        }

        .category-horizontal-item[data-category="snacks"]:hover,
        .category-horizontal-item[data-category="snacks"].active {
            background: linear-gradient(135deg, #C2185B 0%, #E91E63 100%);
        }

        .category-horizontal-item[data-category="noodles"] {
            background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);
        }

        .category-horizontal-item[data-category="noodles"]:hover,
        .category-horizontal-item[data-category="noodles"].active {
            background: linear-gradient(135deg, #F57C00 0%, #FF9800 100%);
        }

        /* Main Category Styling */
        .category-item.main-category,
        .category-horizontal-item.main-category {
            border: 2px solid #A61f23;
            box-shadow: 0 6px 25px rgba(166, 31, 35, 0.15);
        }

        .category-item.main-category:hover,
        .category-horizontal-item.main-category:hover {
            border-color: #cf2029;
            box-shadow: 0 8px 35px rgba(166, 31, 35, 0.25);
        }

        /* New category color schemes */
        .category-item[data-category="food-beverage"],
        .category-horizontal-item[data-category="food-beverage"] {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
        }

        .category-item[data-category="food-beverage"]:hover,
        .category-item[data-category="food-beverage"].active,
        .category-horizontal-item[data-category="food-beverage"]:hover,
        .category-horizontal-item[data-category="food-beverage"].active {
            background: linear-gradient(135deg, #FF8F00 0%, #FFA000 100%);
        }

        .category-item[data-category="togarashi-furikake"],
        .category-horizontal-item[data-category="togarashi-furikake"] {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
        }

        .category-item[data-category="togarashi-furikake"]:hover,
        .category-item[data-category="togarashi-furikake"].active,
        .category-horizontal-item[data-category="togarashi-furikake"]:hover,
        .category-horizontal-item[data-category="togarashi-furikake"].active {
            background: linear-gradient(135deg, #D32F2F 0%, #F44336 100%);
        }

        .category-item[data-category="miso"],
        .category-horizontal-item[data-category="miso"] {
            background: linear-gradient(135deg, #efebe9 0%, #d7ccc8 100%);
        }

        .category-item[data-category="miso"]:hover,
        .category-item[data-category="miso"].active,
        .category-horizontal-item[data-category="miso"]:hover,
        .category-horizontal-item[data-category="miso"].active {
            background: linear-gradient(135deg, #5D4037 0%, #795548 100%);
        }

        .category-item[data-category="yuzu"],
        .category-horizontal-item[data-category="yuzu"] {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        }

        .category-item[data-category="yuzu"]:hover,
        .category-item[data-category="yuzu"].active,
        .category-horizontal-item[data-category="yuzu"]:hover,
        .category-horizontal-item[data-category="yuzu"].active {
            background: linear-gradient(135deg, #F57C00 0%, #FF9800 100%);
        }

        .category-item[data-category="matcha"],
        .category-horizontal-item[data-category="matcha"] {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c8 100%);
        }

        .category-item[data-category="matcha"]:hover,
        .category-item[data-category="matcha"].active,
        .category-horizontal-item[data-category="matcha"]:hover,
        .category-horizontal-item[data-category="matcha"].active {
            background: linear-gradient(135deg, #388E3C 0%, #4CAF50 100%);
        }

        .category-item[data-category="beauty"],
        .category-horizontal-item[data-category="beauty"] {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
        }

        .category-item[data-category="beauty"]:hover,
        .category-item[data-category="beauty"].active,
        .category-horizontal-item[data-category="beauty"]:hover,
        .category-horizontal-item[data-category="beauty"].active {
            background: linear-gradient(135deg, #C2185B 0%, #E91E63 100%);
        }

        .category-item[data-category="lifestyle"],
        .category-horizontal-item[data-category="lifestyle"] {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }

        .category-item[data-category="lifestyle"]:hover,
        .category-item[data-category="lifestyle"].active,
        .category-horizontal-item[data-category="lifestyle"]:hover,
        .category-horizontal-item[data-category="lifestyle"].active {
            background: linear-gradient(135deg, #1976D2 0%, #2196F3 100%);
        }

        /* Beauty Subcategories */
        .category-item[data-category="body-soap"],
        .category-horizontal-item[data-category="body-soap"] {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
        }

        .category-item[data-category="body-soap"]:hover,
        .category-item[data-category="body-soap"].active,
        .category-horizontal-item[data-category="body-soap"]:hover,
        .category-horizontal-item[data-category="body-soap"].active {
            background: linear-gradient(135deg, #7B1FA2 0%, #9C27B0 100%);
        }

        .category-item[data-category="hand-cream"],
        .category-horizontal-item[data-category="hand-cream"] {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
        }

        .category-item[data-category="hand-cream"]:hover,
        .category-item[data-category="hand-cream"].active,
        .category-horizontal-item[data-category="hand-cream"]:hover,
        .category-horizontal-item[data-category="hand-cream"].active {
            background: linear-gradient(135deg, #C2185B 0%, #E91E63 100%);
        }

        .category-item[data-category="face-mask"],
        .category-horizontal-item[data-category="face-mask"] {
            background: linear-gradient(135deg, #fde7f3 0%, #fbcfe8 100%);
        }

        .category-item[data-category="face-mask"]:hover,
        .category-item[data-category="face-mask"].active,
        .category-horizontal-item[data-category="face-mask"]:hover,
        .category-horizontal-item[data-category="face-mask"].active {
            background: linear-gradient(135deg, #BE185D 0%, #EC4899 100%);
        }

        .category-item[data-category="facial-tissue"],
        .category-horizontal-item[data-category="facial-tissue"] {
            background: linear-gradient(135deg, #fdf2f8 0%, #f5d0fe 100%);
        }

        .category-item[data-category="facial-tissue"]:hover,
        .category-item[data-category="facial-tissue"].active,
        .category-horizontal-item[data-category="facial-tissue"]:hover,
        .category-horizontal-item[data-category="facial-tissue"].active {
            background: linear-gradient(135deg, #A21CAF 0%, #C084FC 100%);
        }

        /* Lifestyle Subcategories */
        .category-item[data-category="chopsticks-holders"],
        .category-horizontal-item[data-category="chopsticks-holders"] {
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%);
        }

        .category-item[data-category="chopsticks-holders"]:hover,
        .category-item[data-category="chopsticks-holders"].active,
        .category-horizontal-item[data-category="chopsticks-holders"]:hover,
        .category-horizontal-item[data-category="chopsticks-holders"].active {
            background: linear-gradient(135deg, #0277BD 0%, #03A9F4 100%);
        }

        .category-item[data-category="matcha-set"],
        .category-horizontal-item[data-category="matcha-set"] {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c8 100%);
        }

        .category-item[data-category="matcha-set"]:hover,
        .category-item[data-category="matcha-set"].active,
        .category-horizontal-item[data-category="matcha-set"]:hover,
        .category-horizontal-item[data-category="matcha-set"].active {
            background: linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%);
        }

        .category-item[data-category="bag-hanger"],
        .category-horizontal-item[data-category="bag-hanger"] {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }

        .category-item[data-category="bag-hanger"]:hover,
        .category-item[data-category="bag-hanger"].active,
        .category-horizontal-item[data-category="bag-hanger"]:hover,
        .category-horizontal-item[data-category="bag-hanger"].active {
            background: linear-gradient(135deg, #1565C0 0%, #2196F3 100%);
        }

        .category-item[data-category="rice-soup-spoon"],
        .category-horizontal-item[data-category="rice-soup-spoon"] {
            background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);
        }

        .category-item[data-category="rice-soup-spoon"]:hover,
        .category-item[data-category="rice-soup-spoon"].active,
        .category-horizontal-item[data-category="rice-soup-spoon"]:hover,
        .category-horizontal-item[data-category="rice-soup-spoon"].active {
            background: linear-gradient(135deg, #EF6C00 0%, #FF9800 100%);
        }

        .category-item[data-category="sushi-set"],
        .category-horizontal-item[data-category="sushi-set"] {
            background: linear-gradient(135deg, #e8f5e8 0%, #a5d6a7 100%);
        }

        .category-item[data-category="sushi-set"]:hover,
        .category-item[data-category="sushi-set"].active,
        .category-horizontal-item[data-category="sushi-set"]:hover,
        .category-horizontal-item[data-category="sushi-set"].active {
            background: linear-gradient(135deg, #388E3C 0%, #66BB6A 100%);
        }

        .category-item[data-category="keychain"],
        .category-horizontal-item[data-category="keychain"] {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        }

        .category-item[data-category="keychain"]:hover,
        .category-item[data-category="keychain"].active,
        .category-horizontal-item[data-category="keychain"]:hover,
        .category-horizontal-item[data-category="keychain"].active {
            background: linear-gradient(135deg, #F57C00 0%, #FF9800 100%);
        }

        .category-item[data-category="anime-drawing-book"],
        .category-horizontal-item[data-category="anime-drawing-book"] {
            background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
        }

        .category-item[data-category="anime-drawing-book"]:hover,
        .category-item[data-category="anime-drawing-book"].active,
        .category-horizontal-item[data-category="anime-drawing-book"]:hover,
        .category-horizontal-item[data-category="anime-drawing-book"].active {
            background: linear-gradient(135deg, #303F9F 0%, #3F51B5 100%);
        }

        /* Category scroll buttons */
        .category-scroll-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #A61f23, #cf2029);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(166, 31, 35, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-scroll-button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(166, 31, 35, 0.4);
        }

        .category-scroll-button.left {
            left: -20px;
        }

        .category-scroll-button.right {
            right: -20px;
        }

        .category-item {
            position: relative;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            overflow: hidden;
            height: 200px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(166, 31, 35, 0.1);
        }

        .category-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(166, 31, 35, 0.2);
        }

        .category-item.active {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px rgba(166, 31, 35, 0.25);
        }

        /* Category Card Content */
        .category-card {
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 1.5rem;
            background: linear-gradient(135deg, transparent 0%, rgba(166, 31, 35, 0.05) 100%);
            transition: all 0.4s ease;
        }

        .category-item:hover .category-card {
            background: linear-gradient(135deg, rgba(166, 31, 35, 0.9) 0%, rgba(207, 32, 41, 0.95) 100%);
        }

        .category-item.active .category-card {
            background: linear-gradient(135deg, rgba(166, 31, 35, 0.85) 0%, rgba(207, 32, 41, 0.9) 100%);
        }

        /* Category Icon */
        .category-icon {
            font-size: 4rem;
            text-align: center;
            margin-bottom: 1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));
        }

        .category-item:hover .category-icon {
            transform: scale(1.2) rotate(5deg);
            filter: drop-shadow(0 8px 16px rgba(255, 255, 255, 0.3));
        }

        /* Category Name */
        .category-name {
            font-size: 1.2rem;
            font-weight: 700;
            text-align: center;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.4s ease;
            position: relative;
        }

        .category-item:hover .category-name,
        .category-item.active .category-name {
            color: #ffffff;
            transform: translateY(-2px);
        }

        /* Category Description */
        .category-description {
            font-size: 0.9rem;
            text-align: center;
            color: #666;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease;
            margin-top: 0.5rem;
        }

        .category-item:hover .category-description,
        .category-item.active .category-description {
            opacity: 1;
            transform: translateY(0);
            color: rgba(255, 255, 255, 0.9);
        }

        /* Category-specific gradients and icons */
        .category-item[data-category="rice"] {
            background: linear-gradient(135deg, #f8f4e6 0%, #f0e6d2 100%);
        }

        .category-item[data-category="rice"]:hover,
        .category-item[data-category="rice"].active {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
        }

        .category-item[data-category="soy-sauce"] {
            background: linear-gradient(135deg, #f4f0e6 0%, #e8dcc0 100%);
        }

        .category-item[data-category="soy-sauce"]:hover,
        .category-item[data-category="soy-sauce"].active {
            background: linear-gradient(135deg, #3A2F20 0%, #5D4037 100%);
        }

        .category-item[data-category="tea"] {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4f1d4 100%);
        }

        .category-item[data-category="tea"]:hover,
        .category-item[data-category="tea"].active {
            background: linear-gradient(135deg, #2E7D32 0%, #388E3C 100%);
        }

        .category-item[data-category="snacks"] {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
        }

        .category-item[data-category="snacks"]:hover,
        .category-item[data-category="snacks"].active {
            background: linear-gradient(135deg, #C2185B 0%, #E91E63 100%);
        }

        .category-item[data-category="noodles"] {
            background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);
        }

        .category-item[data-category="noodles"]:hover,
        .category-item[data-category="noodles"].active {
            background: linear-gradient(135deg, #F57C00 0%, #FF9800 100%);
        }

        /* Ripple Effect */
        .category-item::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: all 0.6s ease;
            z-index: 1;
        }

        .category-item:active::before {
            width: 300px;
            height: 300px;
        }

        /* Shine Effect */
        .category-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
            z-index: 2;
        }

        .category-item:hover::after {
            left: 100%;
        }

        /* Loading Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .category-item {
            animation: fadeInUp 0.6s ease forwards;
        }

        .category-item:nth-child(1) { animation-delay: 0.1s; }
        .category-item:nth-child(2) { animation-delay: 0.2s; }
        .category-item:nth-child(3) { animation-delay: 0.3s; }
        .category-item:nth-child(4) { animation-delay: 0.4s; }
        .category-item:nth-child(5) { animation-delay: 0.5s; }

        /* Touch feedback for mobile */
        @media (hover: none) and (pointer: coarse) {
            .category-item:active {
                transform: translateY(-4px) scale(0.98);
                transition: all 0.1s ease;
            }
            
            .category-item:active .category-card {
                background: linear-gradient(135deg, rgba(166, 31, 35, 0.8) 0%, rgba(207, 32, 41, 0.85) 100%);
            }
            
            .category-item:active .category-name,
            .category-item:active .category-description {
                color: #ffffff;
            }
            
            .category-item:active .category-icon {
                transform: scale(1.1);
            }
        }

        /* Enhanced section title */
        .section-title {
            position: relative;
            text-align: center;
            font-size: 2.5rem;
            color: #A61f23;
            margin-bottom: 4rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, #A61f23, #cf2029);
            border-radius: 2px;
        }



        /* Products Section */
        .products {
            padding: 4rem 2rem;
            background-color: #ffffff;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        /* Horizontal Scroll Container */
        .horizontal-scroll-container {
            position: relative;
            margin-top: 2rem;
        }

        .horizontal-scroll {
            display: flex;
            gap: 1.5rem;
            overflow-x: auto;
            padding: 1rem 0;
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: #A61f23 #f8f9fa;
        }

        .horizontal-scroll::-webkit-scrollbar {
            height: 8px;
        }

        .horizontal-scroll::-webkit-scrollbar-track {
            background: #f8f9fa;
            border-radius: 10px;
        }

        .horizontal-scroll::-webkit-scrollbar-thumb {
            background: #A61f23;
            border-radius: 10px;
        }

        .horizontal-scroll::-webkit-scrollbar-thumb:hover {
            background: #cf2029;
        }

        .horizontal-product-card {
            min-width: 280px;
            max-width: 280px;
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            text-align: center;
            border: 1px solid #e0e0e0;
            flex-shrink: 0;
        }

        .horizontal-product-card:hover {
            transform: translateY(-5px);
        }

        /* Scroll buttons */
        .scroll-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #A61f23, #cf2029);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(166, 31, 35, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scroll-button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 20px rgba(166, 31, 35, 0.4);
        }

        .scroll-button.left {
            left: -25px;
        }

        .scroll-button.right {
            right: -25px;
        }

        /* View All Button */
        .view-all-button {
            background: linear-gradient(135deg, #cf2029, #A61f23);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(207, 32, 41, 0.3);
            margin-top: 2rem;
            position: relative;
            overflow: hidden;
        }

        .view-all-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .view-all-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(207, 32, 41, 0.4);
        }

        .view-all-button:hover::before {
            left: 100%;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .product-card {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            text-align: center;
            border: 1px solid #e0e0e0;
        }

        .product-card:hover {
            transform: translateY(-5px);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background-color: #e9ecef;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666666;
            font-size: 0.9rem;
        }

        .product-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #000000;
        }

        .product-price {
            font-size: 1.5rem;
            color: #A61f23;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .add-to-cart {
            background-color: #cf2029;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            width: 100%;
        }

        .add-to-cart:hover {
            background-color: #A61f23;
        }

        /* Footer */
        footer {
            background-color: #A61f23;
            color: white;
            padding: 3rem 2rem 1rem;
            text-align: center;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .social-links a {
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: #cf2029;
        }



        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                gap: 1rem;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .category-grid {
                gap: 2rem;
            }

            .category-circle {
                width: 120px;
                height: 120px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }

            header {
                padding: 1rem;
            }

            .logo {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .nav-links {
                display: none;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .category-circle {
                width: 100px;
                height: 100px;
            }
        }

        .hidden {
            display: none !important;
        }

        .cart-count {
            background-color: #cf2029;
            color: white;
            border-radius: 50%;
            padding: 0.2rem 0.5rem;
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        /* Auth Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            border: 1px solid #e0e0e0;
            position: relative;
        }

        .modal h2 {
            color: #A61f23;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: #000000;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #000000;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            background-color: #ffffff;
            color: #000000;
            font-size: 1rem;
        }

        .form-group input:focus {
            outline: none;
            border-color: #A61f23;
        }

        .auth-button {
            width: 100%;
            background-color: #A61f23;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            margin-bottom: 1rem;
            transition: background-color 0.3s ease;
        }

        .auth-button:hover {
            background-color: #cf2029;
        }

        .auth-link {
            text-align: center;
            color: #A61f23;
            cursor: pointer;
            text-decoration: underline;
        }

        /* Dashboard Styles */
        .dashboard {
            display: none;
            min-height: 100vh;
            background-color: #ffffff;
            padding: 120px 2rem 2rem;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-header {
            background-color: #f8f9fa;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border: 1px solid #e0e0e0;
        }

        .dashboard-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .dashboard-tab {
            background-color: #e9ecef;
            color: #000000;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .dashboard-tab.active {
            background-color: #A61f23;
        }

        .dashboard-section {
            display: none;
            background-color: #f8f9fa;
            padding: 2rem;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
        }

        .dashboard-section.active {
            display: block;
        }

        .order-item {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            border: 1px solid #e0e0e0;
        }

        .order-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .order-status.pending {
            background-color: #ffc107;
            color: #000;
        }

        .order-status.shipped {
            background-color: #17a2b8;
            color: #fff;
        }

        .order-status.delivered {
            background-color: #28a745;
            color: #fff;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-info span {
            color: #ffffff;
            font-weight: 500;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .auth-buttons button {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.5);
            color: #ffffff;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.8);
            color: white;
        }

        /* Cart Styles */
        .cart-button {
            background: linear-gradient(135deg, #A61f23, #cf2029);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            margin-right: 1rem;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(166, 31, 35, 0.3);
            position: relative;
            overflow: hidden;
        }

        .cart-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .cart-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(166, 31, 35, 0.4);
        }

        .cart-button:hover::before {
            left: 100%;
        }

        .cart-button:active {
            transform: translateY(0);
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background-color: #ffffff;
            border-left: 1px solid #e0e0e0;
            z-index: 2000;
            transition: right 0.3s ease;
            overflow-y: auto;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            background-color: #A61f23;
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h3 {
            margin: 0;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-content {
            padding: 1rem;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e0e0e0;
            gap: 1rem;
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            background-color: #e9ecef;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: #666;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .cart-item-price {
            color: #A61f23;
            font-weight: bold;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .qty-btn {
            background-color: #A61f23;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .qty-btn:hover {
            background-color: #cf2029;
        }

        .cart-total {
            background-color: #f8f9fa;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
            text-align: center;
        }

        .cart-total h4 {
            color: #A61f23;
            font-size: 1.5rem;
        }

        .checkout-btn {
            width: 100%;
            background-color: #28a745;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .checkout-btn:hover {
            background-color: #218838;
        }

        .checkout-btn:disabled {
            background-color: #666;
            cursor: not-allowed;
        }

        .empty-cart {
            text-align: center;
            padding: 2rem;
            color: #ccc;
        }

        /* Checkout Modal */
        .checkout-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 3000;
            justify-content: center;
            align-items: center;
        }

        .checkout-modal.active {
            display: flex;
        }

        .checkout-content {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            border: 1px solid #e0e0e0;
            position: relative;
            max-height: 90vh;
            overflow-y: auto;
        }

        .checkout-content h3 {
            color: #A61f23;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .order-summary {
            background-color: #f8f9fa;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1.5rem;
        }

        .order-summary h4 {
            color: #A61f23;
            margin-bottom: 1rem;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .summary-total {
            border-top: 1px solid #444;
            padding-top: 0.5rem;
            margin-top: 0.5rem;
            font-weight: bold;
            color: #A61f23;
        }

        .payment-options {
            margin-bottom: 1.5rem;
        }

        .payment-options h4 {
            color: #000000;
            margin-bottom: 1rem;
        }

        .payment-option {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .payment-option:hover {
            border-color: #A61f23;
        }

        .payment-option.selected {
            border-color: #A61f23;
            background-color: rgba(166, 31, 35, 0.1);
        }

        .payment-option input[type="radio"] {
            margin-right: 1rem;
        }

        .payment-option-details {
            flex: 1;
        }

        .payment-option-title {
            font-weight: bold;
            margin-bottom: 0.2rem;
        }

        .payment-option-desc {
            font-size: 0.9rem;
            color: #666;
        }

        .place-order-btn {
            width: 100%;
            background-color: #A61f23;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 1rem;
        }

        .place-order-btn:hover {
            background-color: #cf2029;
        }

        .order-success {
            text-align: center;
            padding: 2rem;
        }

        .success-icon {
            font-size: 3rem;
            color: #28a745;
            margin-bottom: 1rem;
        }

        /* Floating Action Button (shown on all screens) */
        .mobile-fab {
            display: flex;
            position: fixed;
            bottom: 2rem;
            right: 1rem;
            z-index: 999;
            flex-direction: column;
            gap: 1rem;
        }

        .fab-button {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #A61f23, #cf2029);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(166, 31, 35, 0.4);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .fab-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(166, 31, 35, 0.5);
        }

        .fab-button:active {
            transform: scale(0.95);
        }

        .fab-cart-count {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #cf2029;
            color: white;
            border-radius: 50%;
            min-width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid white;
        }

        /* Category FAB - Above Cart */
        .fab-categories {
            background: linear-gradient(135deg, #2E7D32, #388E3C);
            margin-bottom: 0.5rem;
        }

        .fab-categories:hover {
            background: linear-gradient(135deg, #1B5E20, #2E7D32);
        }

        /* Category Overlay */
        .category-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .category-overlay.active {
            display: flex;
            opacity: 1;
        }

        .category-overlay-content {
            background: #ffffff;
            border-radius: 20px;
            padding: 2rem;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.8) translateY(50px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .category-overlay.active .category-overlay-content {
            transform: scale(1) translateY(0);
        }

        .overlay-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f8f9fa;
        }

        .overlay-title {
            font-size: 1.8rem;
            color: #A61f23;
            font-weight: bold;
            margin: 0;
        }

        .close-overlay {
            background: none;
            border: none;
            font-size: 2rem;
            color: #666;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-overlay:hover {
            background: #f8f9fa;
            color: #A61f23;
            transform: rotate(90deg);
        }

        /* Overlay Category Grid */
        .overlay-category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .overlay-category-item {
            position: relative;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 15px;
            overflow: hidden;
            height: 120px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(166, 31, 35, 0.1);
        }

        .overlay-category-item:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 30px rgba(166, 31, 35, 0.2);
        }

        .overlay-category-card {
            position: relative;
            height: 100%;
            display: flex;
            align-items: center;
            padding: 1rem;
            background: linear-gradient(135deg, transparent 0%, rgba(166, 31, 35, 0.05) 100%);
            transition: all 0.3s ease;
        }

        .overlay-category-item:hover .overlay-category-card {
            background: linear-gradient(135deg, rgba(166, 31, 35, 0.9) 0%, rgba(207, 32, 41, 0.95) 100%);
        }

        .overlay-category-icon {
            font-size: 2.5rem;
            margin-right: 1rem;
            transition: all 0.3s ease;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .overlay-category-item:hover .overlay-category-icon {
            transform: scale(1.1);
            filter: drop-shadow(0 4px 8px rgba(255, 255, 255, 0.3));
        }

        .overlay-category-info {
            flex: 1;
        }

        .overlay-category-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            margin-bottom: 0.3rem;
        }

        .overlay-category-item:hover .overlay-category-name {
            color: #ffffff;
        }

        .overlay-category-desc {
            font-size: 0.8rem;
            color: #666;
            transition: all 0.3s ease;
        }

        .overlay-category-item:hover .overlay-category-desc {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Category-specific styles for overlay */
        .overlay-category-item[data-category="rice"] {
            background: linear-gradient(135deg, #f8f4e6 0%, #f0e6d2 100%);
        }

        .overlay-category-item[data-category="rice"]:hover {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
        }

        .overlay-category-item[data-category="soy-sauce"] {
            background: linear-gradient(135deg, #f4f0e6 0%, #e8dcc0 100%);
        }

        .overlay-category-item[data-category="soy-sauce"]:hover {
            background: linear-gradient(135deg, #3A2F20 0%, #5D4037 100%);
        }

        .overlay-category-item[data-category="tea"] {
            background: linear-gradient(135deg, #e8f5e8 0%, #d4f1d4 100%);
        }

        .overlay-category-item[data-category="tea"]:hover {
            background: linear-gradient(135deg, #2E7D32 0%, #388E3C 100%);
        }

        .overlay-category-item[data-category="snacks"] {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
        }

        .overlay-category-item[data-category="snacks"]:hover {
            background: linear-gradient(135deg, #C2185B 0%, #E91E63 100%);
        }

        .overlay-category-item[data-category="noodles"] {
            background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);
        }

        .overlay-category-item[data-category="noodles"]:hover {
            background: linear-gradient(135deg, #F57C00 0%, #FF9800 100%);
        }

        /* Mobile responsiveness for overlay */
        @media (max-width: 768px) {
            .category-overlay-content {
                margin: 1rem;
                padding: 1.5rem;
                max-height: 85vh;
            }

            .overlay-category-grid {
                grid-template-columns: 1fr;
            }

            .overlay-category-item {
                height: 100px;
            }

            .overlay-category-icon {
                font-size: 2rem;
            }

            .overlay-category-name {
                font-size: 1rem;
            }

            .overlay-category-desc {
                font-size: 0.7rem;
            }
        }

        .fab-auth-menu {
            position: absolute;
            bottom: 70px;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 1rem;
            min-width: 150px;
            transform: scale(0) translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 1px solid #e0e0e0;
        }

        .fab-auth-menu.active {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        .fab-auth-menu button {
            width: 100%;
            background: #A61f23;
            color: white;
            border: none;
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .fab-auth-menu button:hover {
            background: #cf2029;
        }

        .fab-auth-menu button:last-child {
            margin-bottom: 0;
        }

                    /* Mobile Header Styles */
            @media (max-width: 768px) {
                header {
                    padding: 0.8rem 1rem;
                }

                nav {
                    height: 70px;
                    justify-content: center;
                }

                .logo {
                    height: 60px;
                    margin: 0;
                }

                /* Hide ALL nav elements except logo on mobile */
                .mobile-menu-toggle,
                .nav-links,
                .auth-buttons,
                .user-info,
                .guest-cart {
                    display: none !important;
                }

                /* Mobile adjustments for horizontal scroll */
                .horizontal-product-card {
                    min-width: 240px;
                    max-width: 240px;
                }

                .scroll-button {
                    display: none;
                }

                .section-header {
                    flex-direction: column;
                    align-items: stretch;
                    gap: 1rem;
                }



            /* Cart sidebar adjustments */
            .cart-sidebar {
                width: 100vw;
                right: -100vw;
            }

            .cart-sidebar.active {
                right: 0;
            }

            /* Hero adjustments */
            .hero {
                margin-top: 80px;
            }



            .hero-content h1 {
                font-size: 2.2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            /* Categories - Mobile Optimized */
            .category-hierarchy {
                display: none; /* Hide hierarchy on mobile */
            }

            /* Enhanced Mobile Categories Section */
            .categories {
                padding: 2rem 0 3rem 0;
                background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            }

            .section-title {
                font-size: 1.8rem;
                text-align: center;
                margin-bottom: 1rem;
                color: #A61f23;
                font-weight: 700;
            }

            /* Add mobile category intro */
            .mobile-category-intro {
                text-align: center;
                padding: 0 1rem;
                margin-bottom: 2rem;
            }

            .mobile-category-intro h3 {
                font-size: 1.2rem;
                color: #333;
                margin-bottom: 0.5rem;
                font-weight: 600;
            }

            .mobile-category-intro p {
                color: #666;
                font-size: 0.9rem;
                line-height: 1.5;
            }

            /* Hide horizontal scroll elements */
            .category-scroll-container {
                display: none;
            }

            .category-indicators {
                display: none;
            }

            /* Show mobile grid instead */
            .mobile-category-grid {
                display: block;
                padding: 0 1rem;
            }

            /* Mobile Category Rows */
            .mobile-category-row {
                margin-bottom: 2rem;
                background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
                border-radius: 20px;
                padding: 1.5rem;
                box-shadow: 0 8px 25px rgba(0,0,0,0.08);
                border: 1px solid #e8ecef;
                position: relative;
                overflow: hidden;
            }

            .mobile-category-row::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 4px;
                background: linear-gradient(90deg, #A61f23, #cf2029, #A61f23);
                border-radius: 20px 20px 0 0;
            }

            .mobile-category-row:last-child {
                margin-bottom: 0;
            }

            /* Main Category Header for Mobile */
            .mobile-main-category {
                display: flex;
                align-items: center;
                gap: 1rem;
                margin-bottom: 1.5rem;
                padding: 1rem;
                background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
                border-radius: 15px;
                border: 2px solid #A61f23;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .mobile-main-category:active {
                transform: scale(0.98);
                box-shadow: 0 4px 15px rgba(166, 31, 35, 0.2);
            }

            .mobile-main-category-icon {
                font-size: 2.5rem;
                min-width: 60px;
                height: 60px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 12px;
                background: linear-gradient(135deg, #A61f23 0%, #cf2029 100%);
                color: white;
                filter: drop-shadow(0 2px 8px rgba(166, 31, 35, 0.3));
            }

            .mobile-main-category-content h3 {
                font-size: 1.3rem;
                font-weight: 700;
                color: #A61f23;
                margin-bottom: 0.3rem;
            }

            .mobile-main-category-content p {
                font-size: 0.9rem;
                color: #666;
                line-height: 1.4;
                margin: 0;
            }

            /* Mobile Subcategory Grid */
            .mobile-subcategory-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 1rem;
            }

            .mobile-subcategory-item {
                background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
                border-radius: 15px;
                padding: 1.2rem 0.8rem;
                text-align: center;
                border: 2px solid #e8ecef;
                transition: all 0.3s ease;
                cursor: pointer;
                position: relative;
                overflow: hidden;
            }

            .mobile-subcategory-item::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 2px;
                background: linear-gradient(90deg, #A61f23, #cf2029, #A61f23);
                border-radius: 15px 15px 0 0;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .mobile-subcategory-item:active {
                transform: scale(0.95);
                border-color: #A61f23;
                box-shadow: 0 6px 20px rgba(166, 31, 35, 0.15);
            }

            .mobile-subcategory-item:active::before {
                opacity: 1;
            }

            .mobile-subcategory-icon {
                font-size: 2rem;
                margin-bottom: 0.8rem;
                transition: all 0.3s ease;
                filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
            }

            .mobile-subcategory-item:active .mobile-subcategory-icon {
                transform: scale(1.1);
                filter: drop-shadow(0 4px 8px rgba(166, 31, 35, 0.3));
            }

            .mobile-subcategory-name {
                font-size: 0.95rem;
                font-weight: 600;
                color: #333;
                margin-bottom: 0.4rem;
                line-height: 1.2;
                transition: color 0.3s ease;
            }

            .mobile-subcategory-item:active .mobile-subcategory-name {
                color: #A61f23;
            }

            .mobile-subcategory-desc {
                font-size: 0.75rem;
                color: #666;
                line-height: 1.3;
            }

            /* Mobile section spacing */
            .container {
                padding: 0 1rem;
            }

            /* Enhanced touch interactions */
            .mobile-main-category,
            .mobile-subcategory-item {
                -webkit-tap-highlight-color: rgba(166, 31, 35, 0.2);
                tap-highlight-color: rgba(166, 31, 35, 0.2);
                user-select: none;
                -webkit-user-select: none;
            }

            /* Better spacing for smaller devices */
            @media (max-width: 360px) {
                .mobile-subcategory-grid {
                    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                    gap: 0.8rem;
                }
                
                .mobile-subcategory-item {
                    padding: 1rem 0.6rem;
                }
                
                .mobile-subcategory-icon {
                    font-size: 1.8rem;
                }
                
                .mobile-subcategory-name {
                    font-size: 0.85rem;
                }
                
                .mobile-subcategory-desc {
                    font-size: 0.7rem;
                }
            }

            .category-grid {
                display: none; /* Hide grid on mobile */
            }

            .category-scroll-container {
                display: block; /* Show horizontal scroll on mobile */
            }

            .category-horizontal-item {
                min-width: 220px;
                max-width: 220px;
                height: 130px;
            }

            .category-horizontal-card {
                padding: 1rem;
            }

            .category-horizontal-icon {
                font-size: 2.2rem;
                margin-bottom: 0.4rem;
            }

            .category-horizontal-name {
                font-size: 0.9rem;
                margin-bottom: 0.2rem;
            }

            .category-horizontal-desc {
                font-size: 0.7rem;
            }

            .category-scroll-button {
                display: none; /* Hide scroll buttons on mobile for touch scrolling */
            }



            /* Dashboard */
            .dashboard-nav {
                flex-direction: column;
                gap: 0.5rem;
            }

            .dashboard-tab {
                width: 100%;
            }

        }



        @media (max-width: 480px) {
            header {
                padding: 0.6rem 1rem;
            }

            .logo {
                height: 50px;
            }

            .hero-content h1 {
                font-size: 1.8rem;
            }



            .hero-content p {
                font-size: 0.9rem;
            }

            /* Categories - Extra Small Mobile */
            .category-horizontal-item {
                min-width: 200px;
                max-width: 200px;
                height: 120px;
            }

            .category-horizontal-card {
                padding: 0.8rem;
            }

            .category-horizontal-icon {
                font-size: 2rem;
                margin-bottom: 0.3rem;
            }

            .category-horizontal-name {
                font-size: 0.8rem;
                margin-bottom: 0.2rem;
            }

            .category-horizontal-desc {
                font-size: 0.6rem;
            }



            .section-title {
                font-size: 1.8rem;
            }

            .nav-links a {
                font-size: 1.1rem;
                min-width: 180px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <img src="oki.png" alt="Okinawa" class="logo">
            
            <!-- Auth Buttons (shown when not logged in) -->
            <div class="auth-buttons" id="auth-buttons">
                <button onclick="openModal('login')">Login</button>
                <button onclick="openModal('register')">Register</button>
            </div>
            
            <!-- User Info (shown when logged in) -->
            <div class="user-info" id="user-info" style="display: none;">
                <button class="cart-button" onclick="toggleCart()">
                    🛒 <span id="cart-count">0</span>
                </button>
                <span id="user-name">Welcome!</span>
                <button onclick="logout()" style="background-color: #cf2029; color: white; border: none; padding: 0.4rem 0.8rem; border-radius: 5px; cursor: pointer; font-size: 0.8rem;">Logout</button>
            </div>
            
            <!-- Cart Button (shown when not logged in) -->
            <div class="guest-cart" id="guest-cart">
                <button class="cart-button" onclick="toggleCart()">
                    🛒 <span id="guest-cart-count">0</span>
                </button>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <span id="menu-icon">☰</span>
            </button>
            
            <ul class="nav-links" id="nav-links">
                <li><a href="#home" onclick="closeMobileMenu()">Home</a></li>
                <li><a href="#categories" onclick="closeMobileMenu()">Categories</a></li>
                <li><a href="#account" id="account-link" onclick="closeMobileMenu()" style="display: none;">My Account</a></li>
                <li><a href="#contact" onclick="closeMobileMenu()">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content (hidden when dashboard is active) -->
    <div id="main-content">
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <h1>Japan is closer than you think</h1>
                <p>Authentic products imported directly – Food, Beauty & Lifestyle.</p>
                <a href="#products" class="cta-button">Shop Now</a>
            </div>
        </section>

        <!-- New Arrivals Section -->
        <section class="new-arrivals" id="new-arrivals">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">New Arrivals</h2>
                    <a href="all-products.html?type=new-arrivals" class="view-all-button">View All New Arrivals</a>
                </div>
                <div class="horizontal-scroll-container">
                    <button class="scroll-button left" onclick="scrollProducts('new-arrivals-scroll', 'left')" id="new-arrivals-left">‹</button>
                    <div class="horizontal-scroll" id="new-arrivals-scroll">
                        <!-- New arrival products will be loaded here -->
                    </div>
                    <button class="scroll-button right" onclick="scrollProducts('new-arrivals-scroll', 'right')" id="new-arrivals-right">›</button>
                </div>
            </div>
        </section>

        <!-- Best Selling Section -->
        <section class="best-selling" id="best-selling">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Best Selling</h2>
                    <a href="all-products.html?type=best-selling" class="view-all-button">View All Best Selling</a>
                </div>
                <div class="horizontal-scroll-container">
                    <button class="scroll-button left" onclick="scrollProducts('best-selling-scroll', 'left')" id="best-selling-left">‹</button>
                    <div class="horizontal-scroll" id="best-selling-scroll">
                        <!-- Best selling products will be loaded here -->
                    </div>
                    <button class="scroll-button right" onclick="scrollProducts('best-selling-scroll', 'right')" id="best-selling-right">›</button>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section class="categories" id="categories">
            <div class="container">
                <h2 class="section-title">Shop by Category</h2>
                
                <!-- Desktop Hierarchical View -->
                <div class="category-hierarchy">
                    <!-- Row 1: Lifestyle -->
                    <div class="category-row">
                        <div class="main-category-header">
                            <h2 class="main-category-title">🎋 Lifestyle Collection</h2>
                            <p class="main-category-subtitle">Authentic Japanese lifestyle products and accessories for modern living</p>
                            <div class="category-item main-category" data-category="lifestyle" onclick="navigateToCategory('lifestyle')">
                                <div class="category-card">
                                    <div class="category-icon">🎋</div>
                                    <div>
                                        <div class="category-name">Browse All Lifestyle Products</div>
                                        <div class="category-description">Discover our complete collection of Japanese lifestyle items</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="subcategory-section">
                            <div class="subcategory-header">
                                <h3>Explore Our Lifestyle Categories</h3>
                                <p>From dining essentials to cultural accessories, find the perfect Japanese lifestyle products</p>
                            </div>
                            <div class="subcategory-grid">
                                <div class="category-item subcategory" data-category="chopsticks-holders" onclick="navigateToCategory('chopsticks-holders')">
                                    <div class="category-card">
                                        <div class="category-icon">🥢</div>
                                        <div>
                                            <div class="category-name">Chopsticks & Holders</div>
                                            <div class="category-description">Elegant Japanese chopsticks with holders</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="matcha-set" onclick="navigateToCategory('matcha-set')">
                                    <div class="category-card">
                                        <div class="category-icon">🍃</div>
                                        <div>
                                            <div class="category-name">Matcha Set</div>
                                            <div class="category-description">Complete set for preparing Japanese Matcha tea</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="bag-hanger" onclick="navigateToCategory('bag-hanger')">
                                    <div class="category-card">
                                        <div class="category-icon">👜</div>
                                        <div>
                                            <div class="category-name">Bag Hanger</div>
                                            <div class="category-description">Japanese-inspired bag hanger</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="rice-soup-spoon" onclick="navigateToCategory('rice-soup-spoon')">
                                    <div class="category-card">
                                        <div class="category-icon">🥄</div>
                                        <div>
                                            <div class="category-name">Rice/Soup Spoon</div>
                                            <div class="category-description">Practical spoons for dining</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="sushi-set" onclick="navigateToCategory('sushi-set')">
                                    <div class="category-card">
                                        <div class="category-icon">🍣</div>
                                        <div>
                                            <div class="category-name">Sushi Set</div>
                                            <div class="category-description">Tools for making sushi at home</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="keychain" onclick="navigateToCategory('keychain')">
                                    <div class="category-card">
                                        <div class="category-icon">🔑</div>
                                        <div>
                                            <div class="category-name">Keychain</div>
                                            <div class="category-description">Keychains inspired by Japan's unique culture</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="anime-drawing-book" onclick="navigateToCategory('anime-drawing-book')">
                                    <div class="category-card">
                                        <div class="category-icon">📚</div>
                                        <div>
                                            <div class="category-name">Anime Drawing Book</div>
                                            <div class="category-description">A drawing book for anime enthusiasts</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Row 2: Beauty -->
                    <div class="category-row">
                        <div class="main-category-header">
                            <h2 class="main-category-title">🌸 Beauty Essentials</h2>
                            <p class="main-category-subtitle">Premium Japanese beauty and skincare products for radiant, healthy skin</p>
                            <div class="category-item main-category" data-category="beauty" onclick="navigateToCategory('beauty')">
                                <div class="category-card">
                                    <div class="category-icon">🌸</div>
                                    <div>
                                        <div class="category-name">Browse All Beauty Products</div>
                                        <div class="category-description">Explore our complete range of Japanese beauty essentials</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="subcategory-section">
                            <div class="subcategory-header">
                                <h3>Discover Our Beauty Range</h3>
                                <p>From cleansing to hydration, experience the finest Japanese beauty traditions</p>
                            </div>
                            <div class="subcategory-grid">
                                <div class="category-item subcategory" data-category="body-soap" onclick="navigateToCategory('body-soap')">
                                    <div class="category-card">
                                        <div class="category-icon">🧼</div>
                                        <div>
                                            <div class="category-name">Body Soap</div>
                                            <div class="category-description">Natural Japanese soap for pure skin</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="hand-cream" onclick="navigateToCategory('hand-cream')">
                                    <div class="category-card">
                                        <div class="category-icon">🤲</div>
                                        <div>
                                            <div class="category-name">Hand Cream</div>
                                            <div class="category-description">Japanese hand cream with nourishing essence</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="face-mask" onclick="navigateToCategory('face-mask')">
                                    <div class="category-card">
                                        <div class="category-icon">😌</div>
                                        <div>
                                            <div class="category-name">Face Mask</div>
                                            <div class="category-description">Japanese masks for hydration and radiance</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="facial-tissue" onclick="navigateToCategory('facial-tissue')">
                                    <div class="category-card">
                                        <div class="category-icon">🧻</div>
                                        <div>
                                            <div class="category-name">Facial Tissue</div>
                                            <div class="category-description">Ultra-soft tissues with Japanese craftsmanship</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Row 3: Food & Beverage -->
                    <div class="category-row">
                        <div class="main-category-header">
                            <h2 class="main-category-title">🍱 Food & Beverage (Oishii)</h2>
                            <p class="main-category-subtitle">Authentic Japanese flavors and premium ingredients for your culinary journey</p>
                            <div class="category-item main-category" data-category="food-beverage" onclick="navigateToCategory('food-beverage')">
                                <div class="category-card">
                                    <div class="category-icon">🍱</div>
                                    <div>
                                        <div class="category-name">Browse All Food & Beverages</div>
                                        <div class="category-description">Discover authentic Japanese culinary treasures</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="subcategory-section">
                            <div class="subcategory-header">
                                <h3>Taste the Authentic Japan</h3>
                                <p>From traditional seasonings to premium beverages, bring Japan's finest flavors to your table</p>
                            </div>
                            <div class="subcategory-grid">
                                <div class="category-item subcategory" data-category="togarashi-furikake" onclick="navigateToCategory('togarashi-furikake')">
                                    <div class="category-card">
                                        <div class="category-icon">🌶️</div>
                                        <div>
                                            <div class="category-name">Togarashi / Furikake</div>
                                            <div class="category-description">Japanese seasonings to elevate rice and everyday dishes</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="miso" onclick="navigateToCategory('miso')">
                                    <div class="category-card">
                                        <div class="category-icon">🥣</div>
                                        <div>
                                            <div class="category-name">Miso</div>
                                            <div class="category-description">Rich, traditional Miso – perfect for soups and sauces</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="yuzu" onclick="navigateToCategory('yuzu')">
                                    <div class="category-card">
                                        <div class="category-icon">🍊</div>
                                        <div>
                                            <div class="category-name">Yuzu</div>
                                            <div class="category-description">Refreshing Japanese citrus fruit with a unique taste</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="category-item subcategory" data-category="matcha" onclick="navigateToCategory('matcha')">
                                    <div class="category-card">
                                        <div class="category-icon">🍵</div>
                                        <div>
                                            <div class="category-name">Matcha</div>
                                            <div class="category-description">Premium Matcha tea for energy and focus</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mobile Horizontal Scroll View -->
                <div class="mobile-category-intro">
                    <h3>Discover Our Collections</h3>
                    <p>Explore our carefully curated Japanese product categories</p>
                </div>
                
                <div class="mobile-category-grid">
                    <!-- Lifestyle Category Row -->
                    <div class="mobile-category-row">
                        <div class="mobile-main-category" data-category="lifestyle" onclick="navigateToCategory('lifestyle')">
                            <div class="mobile-main-category-icon">🎋</div>
                            <div class="mobile-main-category-content">
                                <h3>Lifestyle Collection</h3>
                                <p>Authentic Japanese lifestyle products and accessories for modern living</p>
                            </div>
                        </div>
                        
                        <div class="mobile-subcategory-grid">
                            <div class="mobile-subcategory-item" data-category="chopsticks-holders" onclick="navigateToCategory('chopsticks-holders')">
                                <div class="mobile-subcategory-icon">🥢</div>
                                <div class="mobile-subcategory-name">Chopsticks & Holders</div>
                                <div class="mobile-subcategory-desc">Elegant Japanese chopsticks with holders</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="matcha-set" onclick="navigateToCategory('matcha-set')">
                                <div class="mobile-subcategory-icon">🍃</div>
                                <div class="mobile-subcategory-name">Matcha Set</div>
                                <div class="mobile-subcategory-desc">Complete set for preparing Japanese Matcha tea</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="bag-hanger" onclick="navigateToCategory('bag-hanger')">
                                <div class="mobile-subcategory-icon">👜</div>
                                <div class="mobile-subcategory-name">Bag Hanger</div>
                                <div class="mobile-subcategory-desc">Japanese-inspired bag hanger</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="rice-soup-spoon" onclick="navigateToCategory('rice-soup-spoon')">
                                <div class="mobile-subcategory-icon">🥄</div>
                                <div class="mobile-subcategory-name">Rice/Soup Spoon</div>
                                <div class="mobile-subcategory-desc">Practical spoons for dining</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="sushi-set" onclick="navigateToCategory('sushi-set')">
                                <div class="mobile-subcategory-icon">🍣</div>
                                <div class="mobile-subcategory-name">Sushi Set</div>
                                <div class="mobile-subcategory-desc">Tools for making sushi at home</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="keychain" onclick="navigateToCategory('keychain')">
                                <div class="mobile-subcategory-icon">🔑</div>
                                <div class="mobile-subcategory-name">Keychain</div>
                                <div class="mobile-subcategory-desc">Keychains inspired by Japan's unique culture</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="anime-drawing-book" onclick="navigateToCategory('anime-drawing-book')">
                                <div class="mobile-subcategory-icon">📚</div>
                                <div class="mobile-subcategory-name">Anime Drawing Book</div>
                                <div class="mobile-subcategory-desc">A drawing book for anime enthusiasts</div>
                            </div>
                        </div>
                    </div>

                    <!-- Beauty Category Row -->
                    <div class="mobile-category-row">
                        <div class="mobile-main-category" data-category="beauty" onclick="navigateToCategory('beauty')">
                            <div class="mobile-main-category-icon">🌸</div>
                            <div class="mobile-main-category-content">
                                <h3>Beauty Essentials</h3>
                                <p>Premium Japanese beauty and skincare products for radiant, healthy skin</p>
                            </div>
                        </div>
                        
                        <div class="mobile-subcategory-grid">
                            <div class="mobile-subcategory-item" data-category="body-soap" onclick="navigateToCategory('body-soap')">
                                <div class="mobile-subcategory-icon">🧼</div>
                                <div class="mobile-subcategory-name">Body Soap</div>
                                <div class="mobile-subcategory-desc">Natural Japanese soap for pure skin</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="hand-cream" onclick="navigateToCategory('hand-cream')">
                                <div class="mobile-subcategory-icon">🤲</div>
                                <div class="mobile-subcategory-name">Hand Cream</div>
                                <div class="mobile-subcategory-desc">Japanese hand cream with nourishing essence</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="face-mask" onclick="navigateToCategory('face-mask')">
                                <div class="mobile-subcategory-icon">😌</div>
                                <div class="mobile-subcategory-name">Face Mask</div>
                                <div class="mobile-subcategory-desc">Japanese masks for hydration and radiance</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="facial-tissue" onclick="navigateToCategory('facial-tissue')">
                                <div class="mobile-subcategory-icon">🧻</div>
                                <div class="mobile-subcategory-name">Facial Tissue</div>
                                <div class="mobile-subcategory-desc">Ultra-soft tissues with Japanese craftsmanship</div>
                            </div>
                        </div>
                    </div>

                    <!-- Food & Beverage Category Row -->
                    <div class="mobile-category-row">
                        <div class="mobile-main-category" data-category="food-beverage" onclick="navigateToCategory('food-beverage')">
                            <div class="mobile-main-category-icon">🍱</div>
                            <div class="mobile-main-category-content">
                                <h3>Food & Beverage (Oishii)</h3>
                                <p>Authentic Japanese flavors and premium ingredients for your culinary journey</p>
                            </div>
                        </div>
                        
                        <div class="mobile-subcategory-grid">
                            <div class="mobile-subcategory-item" data-category="togarashi-furikake" onclick="navigateToCategory('togarashi-furikake')">
                                <div class="mobile-subcategory-icon">🌶️</div>
                                <div class="mobile-subcategory-name">Togarashi / Furikake</div>
                                <div class="mobile-subcategory-desc">Japanese seasonings to elevate rice and everyday dishes</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="miso" onclick="navigateToCategory('miso')">
                                <div class="mobile-subcategory-icon">🥣</div>
                                <div class="mobile-subcategory-name">Miso</div>
                                <div class="mobile-subcategory-desc">Rich, traditional Miso – perfect for soups and sauces</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="yuzu" onclick="navigateToCategory('yuzu')">
                                <div class="mobile-subcategory-icon">🍊</div>
                                <div class="mobile-subcategory-name">Yuzu</div>
                                <div class="mobile-subcategory-desc">Refreshing Japanese citrus fruit with a unique taste</div>
                            </div>
                            <div class="mobile-subcategory-item" data-category="matcha" onclick="navigateToCategory('matcha')">
                                <div class="mobile-subcategory-icon">🍵</div>
                                <div class="mobile-subcategory-name">Matcha</div>
                                <div class="mobile-subcategory-desc">Premium Matcha tea for energy and focus</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section class="products" id="products">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Our Products</h2>
                    <a href="all-products.html?type=all" class="view-all-button">View All Products</a>
                </div>
                <div class="products-grid" id="products-grid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </section>



        <!-- Footer -->
        <footer id="contact">
            <div class="container">
                <div class="social-links">
                    <a href="#" target="_blank">Facebook</a>
                    <a href="#" target="_blank">Instagram</a>
                    <a href="#" target="_blank">TikTok</a>
                </div>
                <p>&copy; 2024 Okinawa. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('login')">&times;</button>
            <h2>Login to Your Account</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="auth-button">Login</button>
            </form>
            <div class="auth-link" onclick="switchModal('login', 'register')">
                Don't have an account? Register here
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal" id="register-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('register')">&times;</button>
            <h2>Create Your Account</h2>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-fullname">Full Name</label>
                    <input type="text" id="register-fullname" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="form-group">
                    <label for="register-phone">Phone Number</label>
                    <input type="tel" id="register-phone" required>
                </div>
                <div class="form-group">
                    <label for="register-address">Address</label>
                    <input type="text" id="register-address" required>
                </div>
                <button type="submit" class="auth-button">Register</button>
            </form>
            <div class="auth-link" onclick="switchModal('register', 'login')">
                Already have an account? Login here
            </div>
        </div>
    </div>

    <!-- My Account Dashboard -->
    <div class="dashboard" id="dashboard">
        <div class="container">
            <div class="dashboard-header">
                <h1>My Account Dashboard</h1>
                <p>Welcome back! Manage your orders and account settings.</p>
            </div>
            
            <div class="dashboard-nav">
                <button class="dashboard-tab active" onclick="showDashboardSection('orders')">Orders</button>
                <button class="dashboard-tab" onclick="showDashboardSection('profile')">Profile</button>
                <button class="dashboard-tab" onclick="showDashboardSection('payments')">Payment Methods</button>
            </div>
            
            <!-- Orders Section -->
            <div class="dashboard-section active" id="orders-section">
                <h2>Order History</h2>
                <div id="orders-list">
                    <!-- Orders will be loaded here -->
                </div>
            </div>
            
            <!-- Profile Section -->
            <div class="dashboard-section" id="profile-section">
                <h2>Profile Information</h2>
                <div id="profile-info">
                    <!-- Profile info will be loaded here -->
                </div>
            </div>
            
            <!-- Payment Methods Section -->
            <div class="dashboard-section" id="payments-section">
                <h2>Payment Methods</h2>
                <div id="payment-methods">
                    <div class="order-item">
                        <h4>Credit Card **** 1234</h4>
                        <p>Expires: 12/25</p>
                        <span class="order-status delivered">Active</span>
                    </div>
                    <div class="order-item">
                        <h4>PayPal</h4>
                        <p>Email: user@example.com</p>
                        <span class="order-status delivered">Active</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-content">
            <div id="cart-items">
                <div class="empty-cart">
                    <p>Your cart is empty</p>
                    <p>Add some products to get started!</p>
                </div>
            </div>
            <div class="cart-total" id="cart-total-section" style="display: none;">
                <h4 id="cart-total">$0.00</h4>
                <button class="checkout-btn" onclick="openCheckout()" id="checkout-button">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkout-modal">
        <div class="checkout-content">
            <button class="close-modal" onclick="closeCheckout()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: #ffffff; font-size: 1.5rem; cursor: pointer;">&times;</button>
            
            <h3>Complete Your Order</h3>
            
            <!-- Order Summary -->
            <div class="order-summary">
                <h4>Order Summary</h4>
                <div id="checkout-summary">
                    <!-- Order items will be populated here -->
                </div>
                <div class="summary-total">
                    <div class="summary-item">
                        <span>Total:</span>
                        <span id="checkout-total">$0.00</span>
                    </div>
                </div>
            </div>

            <!-- Payment Options -->
            <div class="payment-options">
                <h4>Payment Method</h4>
                <div class="payment-option" onclick="selectPayment('cash')">
                    <input type="radio" name="payment" value="cash" id="payment-cash">
                    <div class="payment-option-details">
                        <div class="payment-option-title">Cash on Delivery</div>
                        <div class="payment-option-desc">Pay when your order arrives</div>
                    </div>
                </div>
                <div class="payment-option" onclick="selectPayment('instapay')">
                    <input type="radio" name="payment" value="instapay" id="payment-instapay">
                    <div class="payment-option-details">
                        <div class="payment-option-title">InstaPay</div>
                        <div class="payment-option-desc">Instant digital payment</div>
                    </div>
                </div>
            </div>

            <!-- Place Order Button -->
            <button class="place-order-btn" onclick="placeOrder()" id="place-order-button" disabled>
                Place Order
            </button>
            
            <button class="btn" onclick="closeCheckout()" style="width: 100%; background-color: #666;">
                Continue Shopping
            </button>
        </div>
    </div>

    <!-- Order Success Modal -->
    <div class="modal" id="order-success-modal">
        <div class="modal-content">
            <div class="order-success">
                <div class="success-icon">✅</div>
                <h3>Order Placed Successfully!</h3>
                <p>Your order has been received and will be processed soon.</p>
                <p>Order ID: <strong id="order-id-display"></strong></p>
                <p>You can track your order status in "My Account".</p>
                <button class="btn" onclick="closeOrderSuccess()" style="margin-top: 1rem;">
                    Continue Shopping
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Floating Action Button -->
    <div class="mobile-fab" id="mobile-fab">
        <!-- Categories Button -->
        <button class="fab-button fab-categories" onclick="toggleCategoryOverlay()" title="Shop by Category">
            ☰
        </button>
        
        <!-- Cart Button -->
        <button class="fab-button" onclick="toggleCart()" title="Shopping Cart">
            🛒
            <span class="fab-cart-count" id="fab-cart-count">0</span>
        </button>
        
        <!-- Auth/User Button -->
        <button class="fab-button" onclick="toggleFabAuth()" id="fab-auth-btn" title="Account">
            👤
            <div class="fab-auth-menu" id="fab-auth-menu">
                <!-- Content will be populated by JavaScript -->
            </div>
        </button>
    </div>

    <!-- Category Overlay -->
    <div class="category-overlay" id="category-overlay">
        <div class="category-overlay-content">
            <div class="overlay-header">
                <h2 class="overlay-title">Shop by Category</h2>
                <button class="close-overlay" onclick="closeCategoryOverlay()">&times;</button>
            </div>
            
            <div class="overlay-category-grid">
                <!-- Main Categories -->
                <div class="overlay-category-item" data-category="food-beverage" onclick="selectCategoryAndClose('food-beverage')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🍱</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Food & Beverage</div>
                            <div class="overlay-category-desc">Oishii - Authentic Japanese food & drinks</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="beauty" onclick="selectCategoryAndClose('beauty')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🌸</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Beauty</div>
                            <div class="overlay-category-desc">Japanese beauty and skincare essentials</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="lifestyle" onclick="selectCategoryAndClose('lifestyle')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🎋</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Lifestyle</div>
                            <div class="overlay-category-desc">Japanese lifestyle products and accessories</div>
                        </div>
                    </div>
                </div>
                
                <!-- Food & Beverage Subcategories -->
                <div class="overlay-category-item" data-category="togarashi-furikake" onclick="selectCategoryAndClose('togarashi-furikake')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🌶️</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Togarashi / Furikake</div>
                            <div class="overlay-category-desc">Japanese seasonings to elevate rice and everyday dishes</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="miso" onclick="selectCategoryAndClose('miso')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🥣</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Miso</div>
                            <div class="overlay-category-desc">Rich, traditional Miso – perfect for soups and sauces</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="yuzu" onclick="selectCategoryAndClose('yuzu')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🍊</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Yuzu</div>
                            <div class="overlay-category-desc">Refreshing Japanese citrus fruit with a unique taste</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="matcha" onclick="selectCategoryAndClose('matcha')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🍵</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Matcha</div>
                            <div class="overlay-category-desc">Premium Matcha tea for energy and focus</div>
                        </div>
                    </div>
                </div>

                <!-- Beauty Subcategories -->
                <div class="overlay-category-item" data-category="body-soap" onclick="selectCategoryAndClose('body-soap')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🧼</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Body Soap</div>
                            <div class="overlay-category-desc">Natural Japanese soap for pure skin</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="hand-cream" onclick="selectCategoryAndClose('hand-cream')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🤲</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Hand Cream</div>
                            <div class="overlay-category-desc">Japanese hand cream with nourishing essence</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="face-mask" onclick="selectCategoryAndClose('face-mask')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">😌</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Face Mask</div>
                            <div class="overlay-category-desc">Japanese masks for hydration and radiance</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="facial-tissue" onclick="selectCategoryAndClose('facial-tissue')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🧻</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Facial Tissue</div>
                            <div class="overlay-category-desc">Ultra-soft tissues with Japanese craftsmanship</div>
                        </div>
                    </div>
                </div>

                <!-- Lifestyle Subcategories -->
                <div class="overlay-category-item" data-category="chopsticks-holders" onclick="selectCategoryAndClose('chopsticks-holders')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🥢</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Chopsticks & Holders</div>
                            <div class="overlay-category-desc">Elegant Japanese chopsticks with holders</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="matcha-set" onclick="selectCategoryAndClose('matcha-set')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🍃</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Matcha Set</div>
                            <div class="overlay-category-desc">Complete set for preparing Japanese Matcha tea</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="bag-hanger" onclick="selectCategoryAndClose('bag-hanger')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">👜</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Bag Hanger</div>
                            <div class="overlay-category-desc">Japanese-inspired bag hanger</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="rice-soup-spoon" onclick="selectCategoryAndClose('rice-soup-spoon')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🥄</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Rice/Soup Spoon</div>
                            <div class="overlay-category-desc">Practical spoons for dining</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="sushi-set" onclick="selectCategoryAndClose('sushi-set')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🍣</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Sushi Set</div>
                            <div class="overlay-category-desc">Tools for making sushi at home</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="keychain" onclick="selectCategoryAndClose('keychain')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🔑</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Keychain</div>
                            <div class="overlay-category-desc">Keychains inspired by Japan's unique culture</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="anime-drawing-book" onclick="selectCategoryAndClose('anime-drawing-book')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">📚</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">Anime Drawing Book</div>
                            <div class="overlay-category-desc">A drawing book for anime enthusiasts</div>
                        </div>
                    </div>
                </div>
                
                <div class="overlay-category-item" data-category="all" onclick="selectCategoryAndClose('all')">
                    <div class="overlay-category-card">
                        <div class="overlay-category-icon">🏪</div>
                        <div class="overlay-category-info">
                            <div class="overlay-category-name">All Products</div>
                            <div class="overlay-category-desc">Browse our complete collection</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDzitihiLQetctKmv2-VLTvbZfftB3zOmw",
            authDomain: "okinawa-e5948.firebaseapp.com",
            projectId: "okinawa-e5948",
            storageBucket: "okinawa-e5948.firebasestorage.app",
            messagingSenderId: "1079558060579",
            appId: "1:1079558060579:web:93b7cc521ec819205bcf96",
            measurementId: "G-9GLB5N0GS2"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();



        let currentFilter = 'all';
        let cart = JSON.parse(localStorage.getItem('okinawa-cart')) || [];
        let currentUser = null;
        let userOrders = [];

        // Function to load products from Firestore
        async function loadProducts() {
            try {
                const snapshot = await db.collection('products').get();
                const products = [];
                snapshot.forEach(doc => {
                    products.push({ id: doc.id, ...doc.data() });
                });
                return products;
            } catch (error) {
                console.error('Error loading products:', error);
                return []; // Return empty array if error
            }
        }

        // Function to display products
        function displayProducts(products) {
            const productsGrid = document.getElementById('products-grid');
            productsGrid.innerHTML = '';

            const filteredProducts = currentFilter === 'all' 
                ? products 
                : products.filter(product => product.category === currentFilter);

            if (filteredProducts.length === 0) {
                productsGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: #ccc;">
                        <h3>No products available</h3>
                        <p>Products will appear here once added by the admin.</p>
                        <p>Please check back later or contact support.</p>
                    </div>
                `;
                return;
            }

            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                const price = product.sellPrice || product.price || 0;
                productCard.innerHTML = `
                    <div class="product-image">
                        Product Image<br>${product.name}
                    </div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">$${price.toFixed(2)}</div>
                    <button class="add-to-cart" onclick="addToCart('${product.id}', '${product.name}', ${price})">
                        Add to Cart
                    </button>
                `;
                productsGrid.appendChild(productCard);
            });
        }

        // Function to display products in a specific container
        function displayProductsInContainer(products, containerId, limit = 4, horizontal = false) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            if (products.length === 0) {
                container.innerHTML = `
                    <div style="${horizontal ? 'min-width: 300px; text-align: center; padding: 3rem; color: #ccc;' : 'grid-column: 1 / -1; text-align: center; padding: 3rem; color: #ccc;'}">
                        <h3>No products available</h3>
                        <p>Products will appear here once added by the admin.</p>
                    </div>
                `;
                return;
            }

            const limitedProducts = products.slice(0, limit);
            limitedProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = horizontal ? 'horizontal-product-card' : 'product-card';
                const price = product.sellPrice || product.price || 0;
                productCard.innerHTML = `
                    <div class="product-image">
                        Product Image<br>${product.name}
                    </div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">$${price.toFixed(2)}</div>
                    <button class="add-to-cart" onclick="addToCart('${product.id}', '${product.name}', ${price})">
                        Add to Cart
                    </button>
                `;
                container.appendChild(productCard);
            });
        }

        // Function to load and display new arrivals
        async function loadNewArrivals() {
            try {
                const products = await loadProducts();
                // Filter products marked as new arrivals, then sort by creation date
                const newArrivals = products
                    .filter(product => product.isNewArrival === true)
                    .sort((a, b) => {
                        const dateA = a.createdAt ? a.createdAt.toDate() : new Date(0);
                        const dateB = b.createdAt ? b.createdAt.toDate() : new Date(0);
                        return dateB - dateA;
                    });
                
                // If no products are marked as new arrivals, show latest products
                if (newArrivals.length === 0) {
                    const sortedProducts = products.sort((a, b) => {
                        const dateA = a.createdAt ? a.createdAt.toDate() : new Date(0);
                        const dateB = b.createdAt ? b.createdAt.toDate() : new Date(0);
                        return dateB - dateA;
                    });
                    displayProductsInContainer(sortedProducts, 'new-arrivals-scroll', 8, true);
                } else {
                    displayProductsInContainer(newArrivals, 'new-arrivals-scroll', 8, true);
                }
                updateScrollButtons('new-arrivals-scroll');
            } catch (error) {
                console.error('Error loading new arrivals:', error);
            }
        }

        // Function to load and display best selling products
        async function loadBestSelling() {
            try {
                const products = await loadProducts();
                // Filter products marked as best selling
                const bestSelling = products.filter(product => product.isBestSelling === true);
                
                // If no products are marked as best selling, show first 8 products
                if (bestSelling.length === 0) {
                    displayProductsInContainer(products.slice(0, 8), 'best-selling-scroll', 8, true);
                } else {
                    displayProductsInContainer(bestSelling, 'best-selling-scroll', 8, true);
                }
                updateScrollButtons('best-selling-scroll');
            } catch (error) {
                console.error('Error loading best selling:', error);
            }
        }

        // Function to filter products
        function filterProducts(category) {
            currentFilter = category;
            
            // Update active category item
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });
            
            if (category !== 'all') {
                const activeItem = document.querySelector(`.category-item[data-category="${category}"]`);
                if (activeItem) {
                    activeItem.classList.add('active');
                }
            }
            

            
            // Re-display products with new filter
            loadProducts().then(displayProducts);
        }





        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // AUTH FUNCTIONS
        
        // Modal management
        function openModal(type) {
            document.getElementById(`${type}-modal`).classList.add('active');
        }

        function closeModal(type) {
            document.getElementById(`${type}-modal`).classList.remove('active');
        }

        function switchModal(from, to) {
            closeModal(from);
            openModal(to);
        }

        // Registration function
        async function registerUser(event) {
            event.preventDefault();
            
            const fullName = document.getElementById('register-fullname').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const phone = document.getElementById('register-phone').value;
            const address = document.getElementById('register-address').value;

            try {
                // Create user with email and password
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const user = userCredential.user;

                // Store additional user info in Firestore
                await db.collection('users').doc(user.uid).set({
                    fullName: fullName,
                    email: email,
                    phone: phone,
                    address: address,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });

                // Update user profile
                await user.updateProfile({
                    displayName: fullName
                });

                alert('Registration successful!');
                closeModal('register');
                
            } catch (error) {
                console.error('Registration error:', error);
                alert('Registration failed: ' + error.message);
            }
        }

        // Login function
        async function loginUser(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                alert('Login successful!');
                closeModal('login');
            } catch (error) {
                console.error('Login error:', error);
                alert('Login failed: ' + error.message);
            }
        }

        // Logout function
        async function logout() {
            try {
                await auth.signOut();
                alert('Logged out successfully!');
            } catch (error) {
                console.error('Logout error:', error);
                alert('Logout failed: ' + error.message);
            }
        }

        // Update UI based on auth state
        function updateAuthUI(user) {
            const authButtons = document.getElementById('auth-buttons');
            const userInfo = document.getElementById('user-info');
            const guestCart = document.getElementById('guest-cart');
            const accountLink = document.getElementById('account-link');
            const userName = document.getElementById('user-name');

            if (user) {
                // User is logged in
                authButtons.style.display = 'none';
                userInfo.style.display = 'flex';
                guestCart.style.display = 'none';
                accountLink.style.display = 'block';
                userName.textContent = `Welcome, ${user.displayName || user.email}!`;
                currentUser = user;
            } else {
                // User is logged out
                authButtons.style.display = 'flex';
                userInfo.style.display = 'none';
                guestCart.style.display = 'block';
                accountLink.style.display = 'none';
                currentUser = null;
                // Hide dashboard if visible
                document.getElementById('dashboard').classList.remove('active');
                document.getElementById('main-content').style.display = 'block';
            }
            updateCartUI();
            updateFabAuth();
        }

        // DASHBOARD FUNCTIONS
        
        function showDashboard() {
            if (!currentUser) {
                alert('Please login to access your account.');
                openModal('login');
                return;
            }
            
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('dashboard').classList.add('active');
            loadUserData();
        }

        function hideDashboard() {
            document.getElementById('dashboard').classList.remove('active');
            document.getElementById('main-content').style.display = 'block';
        }

        function showDashboardSection(section) {
            // Update tab styles
            document.querySelectorAll('.dashboard-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[onclick="showDashboardSection('${section}')"]`).classList.add('active');

            // Update section visibility
            document.querySelectorAll('.dashboard-section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.getElementById(`${section}-section`).classList.add('active');

            // Load section-specific data
            if (section === 'orders') {
                loadUserOrders();
            } else if (section === 'profile') {
                loadUserProfile();
            }
        }

        async function loadUserData() {
            if (!currentUser) return;

            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                if (userDoc.exists) {
                    const userData = userDoc.data();
                    // Update dashboard header with user info
                    document.querySelector('.dashboard-header h1').textContent = `Welcome, ${userData.fullName}!`;
                }
            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }

        async function loadUserOrders() {
            if (!currentUser) return;

            const ordersList = document.getElementById('orders-list');
            
            try {
                // Query using clientId instead of userId to match new order format
                // Note: Removed orderBy to avoid index requirements - will sort manually
                const ordersSnapshot = await db.collection('orders')
                    .where('clientId', '==', currentUser.uid)
                    .get();

                if (ordersSnapshot.empty) {
                    ordersList.innerHTML = `
                        <div class="order-item">
                            <h4>No orders yet</h4>
                            <p>Start shopping to see your orders here!</p>
                            <button onclick="hideDashboard()" class="cta-button">Start Shopping</button>
                        </div>
                    `;
                    return;
                }

                // Convert to array and sort manually by creation date (newest first)
                const orders = [];
                ordersSnapshot.forEach(doc => {
                    orders.push({ id: doc.id, ...doc.data() });
                });
                
                // Sort by createdAt timestamp (newest first)
                orders.sort((a, b) => {
                    const dateA = a.createdAt ? a.createdAt.toDate() : new Date(0);
                    const dateB = b.createdAt ? b.createdAt.toDate() : new Date(0);
                    return dateB - dateA;
                });

                ordersList.innerHTML = '';
                orders.forEach(order => {
                    // Calculate total items quantity
                    const totalItems = order.items ? order.items.reduce((sum, item) => sum + (item.qty || item.quantity || 0), 0) : 0;
                    
                    // Create status badge with proper styling
                    const statusClass = (order.status || 'Pending').toLowerCase().replace(' ', '-');
                    
                    const orderElement = document.createElement('div');
                    orderElement.className = 'order-item';
                    orderElement.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                            <h4>Order #${order.id.substring(0, 8).toUpperCase()}</h4>
                            <span class="order-status ${statusClass}">${(order.status || 'Pending').toUpperCase()}</span>
                        </div>
                        <p><strong>Date:</strong> ${order.createdAt ? order.createdAt.toDate().toLocaleDateString() : 'N/A'}</p>
                        <p><strong>Total:</strong> $${order.total ? order.total.toFixed(2) : '0.00'}</p>
                        <p><strong>Items:</strong> ${totalItems} item${totalItems !== 1 ? 's' : ''}</p>
                        <p><strong>Payment:</strong> ${order.paymentMethod || 'Not specified'}</p>
                        ${order.items && order.items.length > 0 ? `
                            <details style="margin-top: 1rem;">
                                <summary style="cursor: pointer; color: #A61f23; font-weight: bold;">View Items</summary>
                                <div style="margin-top: 0.5rem; padding-left: 1rem;">
                                    ${order.items.map(item => `
                                        <p style="margin: 0.2rem 0;">Product ID: ${item.productId} - Qty: ${item.qty} - $${item.price.toFixed(2)} each</p>
                                    `).join('')}
                                </div>
                            </details>
                        ` : ''}
                    `;
                    ordersList.appendChild(orderElement);
                });

            } catch (error) {
                console.error('Error loading orders:', error);
                console.error('Error details:', {
                    message: error.message,
                    code: error.code,
                    user: currentUser ? currentUser.uid : 'No user'
                });
                
                ordersList.innerHTML = `
                    <div class="order-item">
                        <h4>Error loading orders</h4>
                        <p><strong>Error:</strong> ${error.message}</p>
                        <p>Please check:</p>
                        <ul style="margin-left: 2rem; margin-top: 0.5rem;">
                            <li>You are logged in</li>
                            <li>Firestore rules are properly configured</li>
                            <li>Internet connection is stable</li>
                        </ul>
                        <button onclick="loadUserOrders()" class="cta-button" style="margin-top: 1rem;">
                            Try Again
                        </button>
                    </div>
                `;
            }
        }

        async function loadUserProfile() {
            if (!currentUser) return;

            const profileInfo = document.getElementById('profile-info');
            
            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                
                if (userDoc.exists) {
                    const userData = userDoc.data();
                    profileInfo.innerHTML = `
                        <div class="order-item">
                            <h4>Personal Information</h4>
                            <p><strong>Name:</strong> ${userData.fullName || 'N/A'}</p>
                            <p><strong>Email:</strong> ${userData.email || currentUser.email}</p>
                            <p><strong>Phone:</strong> ${userData.phone || 'N/A'}</p>
                            <p><strong>Address:</strong> ${userData.address || 'N/A'}</p>
                            <p><strong>Member Since:</strong> ${userData.createdAt ? userData.createdAt.toDate().toLocaleDateString() : 'N/A'}</p>
                        </div>
                    `;
                } else {
                    profileInfo.innerHTML = `
                        <div class="order-item">
                            <h4>Profile information not found</h4>
                            <p>Please contact support if this issue persists.</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading profile:', error);
                profileInfo.innerHTML = `
                    <div class="order-item">
                        <h4>Error loading profile</h4>
                        <p>Please try again later.</p>
                    </div>
                `;
            }
        }

        // CART FUNCTIONS
        
        function addToCart(id, name, price) {
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ id, name, price, quantity: 1 });
            }
            
            // Save to localStorage
            localStorage.setItem('okinawa-cart', JSON.stringify(cart));
            updateCartUI();
            
            // Show feedback
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Added!';
            button.style.backgroundColor = '#28a745';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.backgroundColor = '#cf2029';
            }, 1000);
        }

        function removeFromCart(id) {
            const itemId = parseInt(id);
            cart = cart.filter(item => item.id !== itemId && item.id !== id);
            localStorage.setItem('okinawa-cart', JSON.stringify(cart));
            updateCartUI();
        }

        function updateCartQuantity(id, change) {
            // Ensure id is treated as the same type as in cart
            const itemId = parseInt(id);
            const item = cart.find(item => item.id === itemId || item.id === id);
            
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(item.id);
                } else {
                    localStorage.setItem('okinawa-cart', JSON.stringify(cart));
                    updateCartUI();
                }
            }
        }

        function updateCartUI() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Update cart counts
            document.getElementById('cart-count').textContent = cartCount;
            document.getElementById('guest-cart-count').textContent = cartCount;
            document.getElementById('cart-total').textContent = `$${cartTotal.toFixed(2)}`;
            
            // Update mobile FAB cart count
            updateFabAuth();
            
            // Update cart items display
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalSection = document.getElementById('cart-total-section');
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="empty-cart">
                        <p>Your cart is empty</p>
                        <p>Add some products to get started!</p>
                    </div>
                `;
                cartTotalSection.style.display = 'none';
            } else {
                cartItemsContainer.innerHTML = '';
                cart.forEach(item => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="cart-item-image">
                            ${item.name.substring(0, 10)}
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">$${item.price.toFixed(2)} each</div>
                            <div class="cart-item-controls">
                                <button class="qty-btn decrease-btn" data-id="${item.id}">-</button>
                                <span style="margin: 0 1rem; font-weight: bold;">${item.quantity}</span>
                                <button class="qty-btn increase-btn" data-id="${item.id}">+</button>
                                <button class="btn btn-small btn-danger remove-btn" data-id="${item.id}" style="margin-left: 1rem; padding: 0.2rem 0.5rem;">Remove</button>
                            </div>
                        </div>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                    
                    // Add event listeners to the buttons
                    const decreaseBtn = cartItem.querySelector('.decrease-btn');
                    const increaseBtn = cartItem.querySelector('.increase-btn');
                    const removeBtn = cartItem.querySelector('.remove-btn');
                    
                    decreaseBtn.addEventListener('click', () => updateCartQuantity(item.id, -1));
                    increaseBtn.addEventListener('click', () => updateCartQuantity(item.id, 1));
                    removeBtn.addEventListener('click', () => removeFromCart(item.id));
                });
                cartTotalSection.style.display = 'block';
            }
        }

        function toggleCart() {
            const cartSidebar = document.getElementById('cart-sidebar');
            cartSidebar.classList.toggle('active');
        }

        // CHECKOUT FUNCTIONS
        
        function openCheckout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            if (!currentUser) {
                alert('Please login to proceed with checkout.');
                openModal('login');
                return;
            }

            // Populate checkout summary
            const checkoutSummary = document.getElementById('checkout-summary');
            const checkoutTotal = document.getElementById('checkout-total');
            
            checkoutSummary.innerHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const summaryItem = document.createElement('div');
                summaryItem.className = 'summary-item';
                summaryItem.innerHTML = `
                    <span>${item.name} x ${item.quantity}</span>
                    <span>$${itemTotal.toFixed(2)}</span>
                `;
                checkoutSummary.appendChild(summaryItem);
            });
            
            checkoutTotal.textContent = `$${total.toFixed(2)}`;
            
            // Show checkout modal
            document.getElementById('checkout-modal').classList.add('active');
            
            // Close cart sidebar
            document.getElementById('cart-sidebar').classList.remove('active');
        }

        function closeCheckout() {
            document.getElementById('checkout-modal').classList.remove('active');
            // Reset payment selection
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelectorAll('input[name="payment"]').forEach(input => {
                input.checked = false;
            });
            document.getElementById('place-order-button').disabled = true;
        }

        function selectPayment(method) {
            // Update UI
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.querySelector(`[onclick="selectPayment('${method}')"]`).classList.add('selected');
            
            // Update radio button
            document.getElementById(`payment-${method}`).checked = true;
            
            // Enable place order button
            document.getElementById('place-order-button').disabled = false;
        }

        async function placeOrder() {
            if (!currentUser) {
                alert('Please login to place an order.');
                return;
            }

            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            const selectedPayment = document.querySelector('input[name="payment"]:checked');
            if (!selectedPayment) {
                alert('Please select a payment method.');
                return;
            }

            try {
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const paymentMethod = selectedPayment.value === 'cash' ? 'Cash on Delivery' : 'InstaPay';
                
                // Create order in Firestore with specific format as requested
                const orderData = {
                    clientId: currentUser.uid,
                    items: cart.map(item => ({
                        productId: item.id,
                        qty: item.quantity,
                        price: item.price
                    })),
                    total: total,
                    paymentMethod: paymentMethod,
                    status: 'Pending',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                };

                const orderRef = await db.collection('orders').add(orderData);
                
                // Clear cart
                cart = [];
                localStorage.setItem('okinawa-cart', JSON.stringify(cart));
                updateCartUI();
                
                // Close checkout modal
                closeCheckout();
                
                // Show success modal
                document.getElementById('order-id-display').textContent = orderRef.id.substring(0, 8).toUpperCase();
                document.getElementById('order-success-modal').classList.add('active');
                
            } catch (error) {
                console.error('Error placing order:', error);
                alert('Error placing order: ' + error.message);
            }
        }

        function closeOrderSuccess() {
            document.getElementById('order-success-modal').classList.remove('active');
        }



        // MOBILE FLOATING ACTION BUTTON
        function toggleFabAuth() {
            const menu = document.getElementById('fab-auth-menu');
            menu.classList.toggle('active');
        }

        function updateFabAuth() {
            const fabAuthMenu = document.getElementById('fab-auth-menu');
            const fabCartCount = document.getElementById('fab-cart-count');
            
            // Update cart count
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            fabCartCount.textContent = cartCount;
            fabCartCount.style.display = cartCount > 0 ? 'flex' : 'none';
            
            // Update auth menu content
            if (currentUser) {
                fabAuthMenu.innerHTML = `
                    <button onclick="showDashboard(); closeFabMenus();">My Account</button>
                    <button onclick="logout(); closeFabMenus();">Logout</button>
                `;
            } else {
                fabAuthMenu.innerHTML = `
                    <button onclick="openModal('login'); closeFabMenus();">Login</button>
                    <button onclick="openModal('register'); closeFabMenus();">Register</button>
                `;
            }
        }

        function closeFabMenus() {
            document.getElementById('fab-auth-menu').classList.remove('active');
        }

        // CATEGORY OVERLAY FUNCTIONS
        
        function toggleCategoryOverlay() {
            const overlay = document.getElementById('category-overlay');
            if (overlay.classList.contains('active')) {
                closeCategoryOverlay();
            } else {
                openCategoryOverlay();
            }
        }
        
        function openCategoryOverlay() {
            const overlay = document.getElementById('category-overlay');
            overlay.classList.add('active');
            
            // Close other overlays
            closeFabMenus();
            
            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }
        
        function closeCategoryOverlay() {
            const overlay = document.getElementById('category-overlay');
            overlay.classList.remove('active');
            
            // Restore body scroll
            document.body.style.overflow = '';
        }
        
        function selectCategoryAndClose(category) {
            // Close the overlay first
            closeCategoryOverlay();
            
            // Filter products by selected category
            filterProducts(category);
            
            // Scroll to products section
            setTimeout(() => {
                const productsSection = document.getElementById('products');
                if (productsSection) {
                    productsSection.scrollIntoView({ 
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            }, 300);
        }

        // Navigate to all-products page with category filter
        function navigateToCategory(category) {
            window.location.href = `all-products.html?type=${category}`;
        }

        // HORIZONTAL SCROLLING FUNCTIONS
        
        function scrollProducts(containerId, direction) {
            const container = document.getElementById(containerId);
            const scrollAmount = 300;
            
            if (direction === 'left') {
                container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            } else {
                container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            }
            
            // Update scroll buttons after a short delay
            setTimeout(() => updateScrollButtons(containerId), 300);
        }
        
        function updateScrollButtons(containerId) {
            const container = document.getElementById(containerId);
            const leftButton = document.getElementById(containerId.replace('-scroll', '-left'));
            const rightButton = document.getElementById(containerId.replace('-scroll', '-right'));
            
            if (container && leftButton && rightButton) {
                // Hide left button if at start
                leftButton.style.opacity = container.scrollLeft <= 0 ? '0.5' : '1';
                leftButton.style.pointerEvents = container.scrollLeft <= 0 ? 'none' : 'auto';
                
                // Hide right button if at end
                const isAtEnd = container.scrollLeft >= (container.scrollWidth - container.clientWidth - 10);
                rightButton.style.opacity = isAtEnd ? '0.5' : '1';
                rightButton.style.pointerEvents = isAtEnd ? 'none' : 'auto';
            }
        }

        // CATEGORY SCROLL FUNCTIONS
        function scrollCategories(direction) {
            const container = document.getElementById('category-horizontal-scroll');
            const scrollAmount = 300;
            
            if (direction === 'left') {
                container.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            } else {
                container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            }
            
            // Update indicators after scrolling
            setTimeout(updateCategoryIndicators, 100);
        }

        function scrollToCategory(index) {
            const container = document.getElementById('category-horizontal-scroll');
            const items = container.querySelectorAll('.category-horizontal-item');
            
            if (items[index]) {
                const itemWidth = items[index].offsetWidth + 16; // Include gap
                container.scrollLeft = index * itemWidth;
                updateCategoryIndicators();
            }
        }

        function updateCategoryIndicators() {
            const container = document.getElementById('category-horizontal-scroll');
            const indicators = document.querySelectorAll('.category-indicator');
            const items = container.querySelectorAll('.category-horizontal-item');
            
            if (items.length === 0) return;
            
            const itemWidth = items[0].offsetWidth + 16; // Include gap
            const currentIndex = Math.round(container.scrollLeft / itemWidth);
            
            indicators.forEach((indicator, index) => {
                if (index === currentIndex) {
                    indicator.classList.add('active');
                } else {
                    indicator.classList.remove('active');
                }
            });
        }
        




        // Initialize the application
        document.addEventListener('DOMContentLoaded', async function() {
            const products = await loadProducts();
            displayProducts(products);

            // Load new sections
            await loadNewArrivals();
            await loadBestSelling();
            
            // Set up scroll event listeners for horizontal containers
            ['new-arrivals-scroll', 'best-selling-scroll'].forEach(containerId => {
                const container = document.getElementById(containerId);
                if (container) {
                    container.addEventListener('scroll', () => updateScrollButtons(containerId));
                    // Initial button state update
                    setTimeout(() => updateScrollButtons(containerId), 100);
                }
            });

            // Initialize cart UI
            updateCartUI();
            
            // Initialize category scroll indicators
            const categoryContainer = document.getElementById('category-horizontal-scroll');
            if (categoryContainer) {
                categoryContainer.addEventListener('scroll', updateCategoryIndicators);
                // Initial indicator state
                setTimeout(updateCategoryIndicators, 100);
            }
            
            // Check if page was accessed with cart hash (from all-products page)
            if (window.location.hash === '#cart') {
                setTimeout(() => {
                    toggleCart();
                    // Remove the hash from URL
                    window.history.replaceState(null, null, window.location.pathname);
                }, 500);
            }

            // Set up form event listeners
            document.getElementById('register-form').addEventListener('submit', registerUser);
            document.getElementById('login-form').addEventListener('submit', loginUser);

            // Set up auth state listener
            auth.onAuthStateChanged(function(user) {
                updateAuthUI(user);
                if (user) {
                    loadUserData();
                }
            });

            // Set up navigation event listeners
            document.getElementById('account-link').addEventListener('click', function(e) {
                e.preventDefault();
                showDashboard();
            });

            // Close modals when clicking outside
            document.querySelectorAll('.modal, .checkout-modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                    }
                });
            });

            // Close category overlay when clicking outside
            document.getElementById('category-overlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeCategoryOverlay();
                }
            });

            // Handle escape key for overlays
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeCategoryOverlay();
                    closeFabMenus();
                }
            });

            // Update home link to hide dashboard
            document.querySelector('a[href="#home"]').addEventListener('click', function(e) {
                e.preventDefault();
                hideDashboard();
                document.querySelector('#home').scrollIntoView({ behavior: 'smooth' });
            });



            // Close cart when clicking outside
            document.addEventListener('click', function(e) {
                const cartSidebar = document.getElementById('cart-sidebar');
                const cartButtons = document.querySelectorAll('.cart-button, .fab-button');
                const clickedCartButton = Array.from(cartButtons).some(btn => btn.contains(e.target));
                
                if (!cartSidebar.contains(e.target) && !clickedCartButton && cartSidebar.classList.contains('active')) {
                    cartSidebar.classList.remove('active');
                }

                // Close FAB auth menu when clicking outside
                const fabAuthMenu = document.getElementById('fab-auth-menu');
                const fabAuthBtn = document.getElementById('fab-auth-btn');
                if (!fabAuthBtn.contains(e.target) && fabAuthMenu.classList.contains('active')) {
                    closeFabMenus();
                }
            });
        });

        // Add scroll effect to header
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'linear-gradient(135deg, rgba(166, 31, 35, 0.8), rgba(207, 32, 41, 0.8))';
                header.style.backdropFilter = 'blur(25px)';
            } else {
                header.style.background = 'linear-gradient(135deg, rgba(166, 31, 35, 0.6), rgba(207, 32, 41, 0.6))';
                header.style.backdropFilter = 'blur(20px)';
            }
        });
    </script>
</body>
</html>
